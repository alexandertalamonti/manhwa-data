# Underrated Manga Scraper

In my ever-shrinking freetime, I enjoy reading manga among other comic media. However, I've read a lot already and am looking for some new material. For my project, I am scraping the website [animenewsnetwork](https://www.animenewsnetwork.com/encyclopedia/ratings-manga.php?top50=most_underrated&n=500) to get the top 500 most underrated manga which is determined by voters on the website. I came across this website and it seemed to have a pretty interesting list of content. However, the list does not give any information about the titles besides their name. I want to be able to choose a good new manga to read just at a glance, so I wanted more information.

Thus, I used the MyAnimeList API to create a dataset with the list of titles. MyAnimeList as any anime/manga fan knows is the go-to source for information on a specific title. It has info about rankings, authorship, descriptions, and more. I pull as much information as I can and put it all into a dataframe which is then converted into a CSV.

## Important Considerations
2 important caveats that I would like to mention. First, this project was rather challenging because I basically have to hit the myanimelist API 1000 times (2 hits x 500 titles). The reason is that rather than getting a title by name, they first have you hit /manga?q=TITLE_NAME to get an ID for the title. Then, you have to hit /manga/ID?fields=blahblahblah to get the actual information about the title.

I realized that hitting the API so many times would either hit rate limits or be super slow, so I decided to save my progress as I went in case anything went wrong. Thus, there are three files that are produced in my code.
1. top_500_underrated_manga.txt is from animenewsnetwork. This is the list of 500 manga that is webscraped
2. manga_mal_ids.txt is the list of all the IDs MyAnimeList has for each of the 500 underrated manga. This is accomplished by hitting /manga
3. manga_details.csv is the CSV generated by hitting /manga/ID. It is the end result of my ETL pipeline

Because these functions take a while to run, I check if the files exist already and only generate the first two if they are not already generated.

## How to run
Just the standard ->

git clone
pip install -r requirements.txt
python3 main.py

Note, I actually did this by running each individual file in the order of:
get_underrated_manga.py
get_manga_ids.py
generate_mal_csv.py

but main.py encapsulates all of this.